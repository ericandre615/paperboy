!function(t,i,s){"undefined"!=typeof module&&module.exports?module.exports=s(t,i):i[t]=s(t,i)}("paperboy",this,function(t,i){"use strict";var s={topics:{},subscribe:function(t,i){this.topics[t]||(this.topics[t]=[]),this.topics[t].push(i)},unsubscribe:function(t,i){if(this.topics[t]&&this.topics[t].length>0){var s=this.topics[t];this.topics[t].forEach(function(t,o){return t==i?void s.splice(o,1):void 0})}},remove:function(t){this.topics[t]&&delete this.topics[t]},removeAll:function(){this.topics={}},publish:function(t,i){if("object"==typeof t){for(var s=[],o=0,e=t.length;e>o;o++)this.topics[t[o]]||s.push(t[o]),this.topics[t[o]]&&this.topics[t[o]].length>0&&this.topics[t[o]].forEach(function(t){t(i||{})});s.length>0&&console.log("Topics were not published: ",s)}else{if(!this.topics[t])return new Error("this topic does not exist");if(this.topics[t].length<1)return new Error("no listeners registered for this topic");this.topics[t].forEach(function(t){t(i||{})})}}};return s});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcGVyYm95LmpzIl0sIm5hbWVzIjpbIm5hbWUiLCJnbG9iYWwiLCJkZWZpbml0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsInRoaXMiLCJwYXBlcmJveSIsInRvcGljcyIsInN1YnNjcmliZSIsInRvcGljIiwibGlzdGVuZXIiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJsZW5ndGgiLCJ0b3BpY0xpc3RlbmVycyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJzcGxpY2UiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJwdWJsaXNoIiwiZGF0YSIsIm5vVG9waWMiLCJpIiwibGVuIiwiY29uc29sZSIsImxvZyIsIkVycm9yIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUNBLG1CQUFBQyxTQUFBQSxPQUFBQyxRQUNBRCxPQUFBQyxRQUFBRixFQUFBRixFQUFBQyxHQUVBQSxFQUFBRCxHQUFBRSxFQUFBRixFQUFBQyxJQUVBLFdBQUFJLEtBQUEsU0FBQUwsRUFBQUMsR0FDQSxZQUVBLElBQUFLLElBRUFDLFVBRUFDLFVBQUEsU0FBQUMsRUFBQUMsR0FFQUwsS0FBQUUsT0FBQUUsS0FDQUosS0FBQUUsT0FBQUUsT0FJQUosS0FBQUUsT0FBQUUsR0FBQUUsS0FBQUQsSUFHQUUsWUFBQSxTQUFBSCxFQUFBQyxHQUNBLEdBQUFMLEtBQUFFLE9BQUFFLElBQUFKLEtBQUFFLE9BQUFFLEdBQUFJLE9BQUEsRUFBQSxDQUNBLEdBQUFDLEdBQUFULEtBQUFFLE9BQUFFLEVBQ0FKLE1BQUFFLE9BQUFFLEdBQUFNLFFBQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxJQUFBTixNQUNBSSxHQUFBSSxPQUFBRCxFQUFBLEdBREEsV0FTQUUsT0FBQSxTQUFBVixHQUNBSixLQUFBRSxPQUFBRSxVQUNBSixNQUFBRSxPQUFBRSxJQUtBVyxVQUFBLFdBQ0FmLEtBQUFFLFdBR0FjLFFBQUEsU0FBQVosRUFBQWEsR0FFQSxHQUFBLGdCQUFBYixHQUFBLENBRUEsSUFBQSxHQURBYyxNQUNBQyxFQUFBLEVBQUFDLEVBQUFoQixFQUFBSSxPQUFBWSxFQUFBRCxFQUFBQSxJQUNBbkIsS0FBQUUsT0FBQUUsRUFBQWUsS0FDQUQsRUFBQVosS0FBQUYsRUFBQWUsSUFHQW5CLEtBQUFFLE9BQUFFLEVBQUFlLEtBQUFuQixLQUFBRSxPQUFBRSxFQUFBZSxJQUFBWCxPQUFBLEdBRUFSLEtBQUFFLE9BQUFFLEVBQUFlLElBQUFULFFBQUEsU0FBQUwsR0FDQUEsRUFBQVksUUFLQUMsR0FBQVYsT0FBQSxHQUNBYSxRQUFBQyxJQUFBLDhCQUFBSixPQUVBLENBR0EsSUFBQWxCLEtBQUFFLE9BQUFFLEdBQ0EsTUFBQSxJQUFBbUIsT0FBQSw0QkFHQSxJQUFBdkIsS0FBQUUsT0FBQUUsR0FBQUksT0FBQSxFQUNBLE1BQUEsSUFBQWUsT0FBQSx5Q0FJQXZCLE1BQUFFLE9BQUFFLEdBQUFNLFFBQUEsU0FBQUwsR0FDQUEsRUFBQVksV0FNQSxPQUFBaEIiLCJmaWxlIjoicGFwZXJib3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24obmFtZSwgZ2xvYmFsLCBkZWZpbml0aW9uKSB7XG4gICAgaWYodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKG5hbWUsIGdsb2JhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsW25hbWVdID0gZGVmaW5pdGlvbihuYW1lLCBnbG9iYWwpO1xuICAgIH1cbn0pKCdwYXBlcmJveScsIHRoaXMsIGZ1bmN0aW9uKG5hbWUsIGdsb2JhbCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBwYXBlcmJveSA9IHtcblxuICAgICAgICB0b3BpY3M6IHt9LCAgICAgICAgXG5cbiAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbih0b3BpYywgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSB0b3BpYyBleGlzdHMsIGlmIG5vdCBjcmVhdGUgb25lXG4gICAgICAgICAgICBpZighdGhpcy50b3BpY3NbdG9waWNdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNdID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFkZCB0aGUgbGlzdGVuZXJcbiAgICAgICAgICAgIHRoaXMudG9waWNzW3RvcGljXS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHVuc3Vic2NyaWJlOiBmdW5jdGlvbih0b3BpYywgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmKHRoaXMudG9waWNzW3RvcGljXSAmJiB0aGlzLnRvcGljc1t0b3BpY10ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhciB0b3BpY0xpc3RlbmVycyA9IHRoaXMudG9waWNzW3RvcGljXTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY10uZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBpZihpdGVtID09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIHRvcGljTGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24odG9waWMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMudG9waWNzW3RvcGljXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRvcGljc1t0b3BpY107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMudG9waWNzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBwdWJsaXNoOiBmdW5jdGlvbih0b3BpYywgZGF0YSkge1xuICAgICAgICAgICAgLy8gaWYgb2JqZWN0IGFzc3VtZSBhcnJheSAob25seSBiZWF1c2UgaXNBcnJheSBkb2VzIG5vdCB3b3JrIGluIElFIDwgOVxuICAgICAgICAgICAgaWYodHlwZW9mIHRvcGljID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhciBub1RvcGljID0gW107XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gdG9waWMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMudG9waWNzW3RvcGljW2ldXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9Ub3BpYy5wdXNoKHRvcGljW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMudG9waWNzW3RvcGljW2ldXSAmJiB0aGlzLnRvcGljc1t0b3BpY1tpXV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IGFsbCB0aGUgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY1tpXV0uZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZGF0YSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vVG9waWMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVG9waWNzIHdlcmUgbm90IHB1Ymxpc2hlZDogJywgbm9Ub3BpYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRvcGljIGV4aXN0cyBvciBoYXMgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMudG9waWNzW3RvcGljXSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCd0aGlzIHRvcGljIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYodGhpcy50b3BpY3NbdG9waWNdLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIHRoaXMgdG9waWMnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBub3RpZnkgYWxsIHRoZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY10uZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcil7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKGRhdGEgfHwge30pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBwYXBlcmJveTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9