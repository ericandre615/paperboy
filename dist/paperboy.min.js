!function(t,i,o){"undefined"!=typeof module&&module.exports?module.exports=o(t,i):i[t]=o(t,i)}("paperboy",this,function(t,i){"use strict";var o={topics:{},subscribe:function(t,i){this.topics[t]||(this.topics[t]=[]),this.topics[t].push(i)},unsubscribe:function(t,i){if(this.topics[t]&&this.topics[t].length>0){var o=this.topics[t];this.topics[t].forEach(function(t,s){return t==i?void o.splice(s,1):void 0})}},remove:function(t){this.topics[t]&&(this.topics[t]=null)},removeAll:function(){this.topics={}},publish:function(t,i){var o=Object.prototype.toString.call(t);if("[object Array]"!==o)throw new TypeError("Expected first argument to be an Array instead got ",o);var s=[];if(!this.topics[t])throw new ReferenceError("this topic does not exist");if(!this.topics[t].length)throw new ReferenceError("no listeners registered for this topic");for(var e=0,r=t.length;r>e;e++)this.topics[t[e]]||s.push(t[e]),this.topics[t[e]]&&this.topics[t[e]].length&&this.topics[t[e]].forEach(function(t){t(i||{})});s.length&&console.warn("Topics were not published: ",s)},broadcast:function(t){var i=[];for(var o in this.topics)this.topics.hasOwnProperty(o)&&i.push(o);for(var s=0,e=i.length;e>s;s++)this.topics[i[s]].forEach(function(i){i(t||{})})}};return o});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcGVyYm95LmpzIl0sIm5hbWVzIjpbIm5hbWUiLCJnbG9iYWwiLCJkZWZpbml0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsInRoaXMiLCJwYXBlcmJveSIsInRvcGljcyIsInN1YnNjcmliZSIsInRvcGljIiwibGlzdGVuZXIiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJsZW5ndGgiLCJ0b3BpY0xpc3RlbmVycyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJzcGxpY2UiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJwdWJsaXNoIiwiZGF0YSIsInRvcGljVHlwZSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIlR5cGVFcnJvciIsIm5vVG9waWMiLCJSZWZlcmVuY2VFcnJvciIsImkiLCJsZW4iLCJjb25zb2xlIiwid2FybiIsImJyb2FkY2FzdCIsInRvcGljQ29sbGVjdGlvbiIsImhhc093blByb3BlcnR5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUNBLG1CQUFBQyxTQUFBQSxPQUFBQyxRQUNBRCxPQUFBQyxRQUFBRixFQUFBRixFQUFBQyxHQUVBQSxFQUFBRCxHQUFBRSxFQUFBRixFQUFBQyxJQUVBLFdBQUFJLEtBQUEsU0FBQUwsRUFBQUMsR0FDQSxZQUVBLElBQUFLLElBRUFDLFVBRUFDLFVBQUEsU0FBQUMsRUFBQUMsR0FFQUwsS0FBQUUsT0FBQUUsS0FDQUosS0FBQUUsT0FBQUUsT0FJQUosS0FBQUUsT0FBQUUsR0FBQUUsS0FBQUQsSUFHQUUsWUFBQSxTQUFBSCxFQUFBQyxHQUNBLEdBQUFMLEtBQUFFLE9BQUFFLElBQUFKLEtBQUFFLE9BQUFFLEdBQUFJLE9BQUEsRUFBQSxDQUNBLEdBQUFDLEdBQUFULEtBQUFFLE9BQUFFLEVBQ0FKLE1BQUFFLE9BQUFFLEdBQUFNLFFBQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxJQUFBTixNQUNBSSxHQUFBSSxPQUFBRCxFQUFBLEdBREEsV0FTQUUsT0FBQSxTQUFBVixHQUNBSixLQUFBRSxPQUFBRSxLQUNBSixLQUFBRSxPQUFBRSxHQUFBLE9BS0FXLFVBQUEsV0FDQWYsS0FBQUUsV0FHQWMsUUFBQSxTQUFBWixFQUFBYSxHQUNBLEdBQUFDLEdBQUFDLE9BQUFDLFVBQUFDLFNBQUFDLEtBQUFsQixFQUNBLElBQUEsbUJBQUFjLEVBOEJBLEtBQUEsSUFBQUssV0FBQSxzREFBQUwsRUE3QkEsSUFBQU0sS0FFQSxLQUFBeEIsS0FBQUUsT0FBQUUsR0FDQSxLQUFBLElBQUFxQixnQkFBQSw0QkFJQSxLQUFBekIsS0FBQUUsT0FBQUUsR0FBQUksT0FDQSxLQUFBLElBQUFpQixnQkFBQSx5Q0FJQSxLQUFBLEdBQUFDLEdBQUEsRUFBQUMsRUFBQXZCLEVBQUFJLE9BQUFtQixFQUFBRCxFQUFBQSxJQUNBMUIsS0FBQUUsT0FBQUUsRUFBQXNCLEtBQ0FGLEVBQUFsQixLQUFBRixFQUFBc0IsSUFHQTFCLEtBQUFFLE9BQUFFLEVBQUFzQixLQUFBMUIsS0FBQUUsT0FBQUUsRUFBQXNCLElBQUFsQixRQUVBUixLQUFBRSxPQUFBRSxFQUFBc0IsSUFBQWhCLFFBQUEsU0FBQUwsR0FDQUEsRUFBQVksUUFLQU8sR0FBQWhCLFFBQ0FvQixRQUFBQyxLQUFBLDhCQUFBTCxJQVFBTSxVQUFBLFNBQUFiLEdBQ0EsR0FBQWMsS0FDQSxLQUFBLEdBQUEzQixLQUFBSixNQUFBRSxPQUNBRixLQUFBRSxPQUFBOEIsZUFBQTVCLElBQ0EyQixFQUFBekIsS0FBQUYsRUFJQSxLQUFBLEdBQUFzQixHQUFBLEVBQUFDLEVBQUFJLEVBQUF2QixPQUFBbUIsRUFBQUQsRUFBQUEsSUFDQTFCLEtBQUFFLE9BQUE2QixFQUFBTCxJQUFBaEIsUUFBQSxTQUFBTCxHQUNBQSxFQUFBWSxVQU1BLE9BQUFoQiIsImZpbGUiOiJwYXBlcmJveS5qcyIsInNvdXJjZXNDb250ZW50IjpbIjsoZnVuY3Rpb24obmFtZSwgZ2xvYmFsLCBkZWZpbml0aW9uKSB7XG4gICAgaWYodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBkZWZpbml0aW9uKG5hbWUsIGdsb2JhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ2xvYmFsW25hbWVdID0gZGVmaW5pdGlvbihuYW1lLCBnbG9iYWwpO1xuICAgIH1cbn0pKCdwYXBlcmJveScsIHRoaXMsIGZ1bmN0aW9uKG5hbWUsIGdsb2JhbCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBwYXBlcmJveSA9IHtcblxuICAgICAgICB0b3BpY3M6IHt9LCAgICAgICAgXG5cbiAgICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUodG9waWMsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgdG9waWMgZXhpc3RzLCBpZiBub3QgY3JlYXRlIG9uZVxuICAgICAgICAgICAgaWYoIXRoaXMudG9waWNzW3RvcGljXSkge1xuICAgICAgICAgICAgICAgIHRoaXMudG9waWNzW3RvcGljXSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIGxpc3RlbmVyXG4gICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY10ucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUodG9waWMsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZih0aGlzLnRvcGljc1t0b3BpY10gJiYgdGhpcy50b3BpY3NbdG9waWNdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9waWNMaXN0ZW5lcnMgPSB0aGlzLnRvcGljc1t0b3BpY107XG4gICAgICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNdLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXRlbSA9PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICB0b3BpY0xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSh0b3BpYykge1xuICAgICAgICAgICAgaWYodGhpcy50b3BpY3NbdG9waWNdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNdID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcbiAgICAgICAgICAgIHRoaXMudG9waWNzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBwdWJsaXNoOiBmdW5jdGlvbiBwdWJsaXNoKHRvcGljLCBkYXRhKSB7IFxuICAgICAgICAgICAgdmFyIHRvcGljVHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0b3BpYyk7XG4gICAgICAgICAgICBpZih0b3BpY1R5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9Ub3BpYyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRvcGljIGV4aXN0cyBvciBoYXMgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgaWYoIXRoaXMudG9waWNzW3RvcGljXSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ3RoaXMgdG9waWMgZG9lcyBub3QgZXhpc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRvcGljc1t0b3BpY10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIHRoaXMgdG9waWMnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHRvcGljLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRvcGljc1t0b3BpY1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vVG9waWMucHVzaCh0b3BpY1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRvcGljc1t0b3BpY1tpXV0gJiYgdGhpcy50b3BpY3NbdG9waWNbaV1dLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90aWZ5IGFsbCB0aGUgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY1tpXV0uZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZGF0YSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKG5vVG9waWMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVG9waWNzIHdlcmUgbm90IHB1Ymxpc2hlZDogJywgbm9Ub3BpYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBhbiBBcnJheSBpbnN0ZWFkIGdvdCAnLCB0b3BpY1R5cGUpOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYnJvYWRjYXN0OiBmdW5jdGlvbiBicm9hZGNhc3QoZGF0YSkge1xuICAgICAgICAgICAgdmFyIHRvcGljQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgZm9yKHZhciB0b3BpYyBpbiB0aGlzLnRvcGljcykge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMudG9waWNzLmhhc093blByb3BlcnR5KHRvcGljKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3BpY0NvbGxlY3Rpb24ucHVzaCh0b3BpYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgbGVuID0gdG9waWNDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNDb2xsZWN0aW9uW2ldXS5mb3JFYWNoKGZ1bmN0aW9uKGxpc3RlbmVyKXtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZGF0YSB8fCB7fSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIHBhcGVyYm95O1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=