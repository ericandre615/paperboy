!function(t,i,o){"undefined"!=typeof module&&module.exports?module.exports=o(t,i):i[t]=o(t,i)}("paperboy",this,function(t,i){"use strict";var o={topics:{},subscribe:function(t,i){this.topics[t]||(this.topics[t]=[]),this.topics[t].push(i)},unsubscribe:function(t,i){if(this.topics[t]&&this.topics[t].length>0){var o=this.topics[t];this.topics[t].forEach(function(t,s){return t==i?void o.splice(s,1):void 0})}},remove:function(t){this.topics[t]&&delete this.topics[t]},removeAll:function(){this.topics={}},publish:function(t,i){var o=Object.prototype.toString.call(t);if("[object Array]"!==o)throw new TypeError("Expected first argument to be an Array instead got ",o);var s=[];if(!this.topics[t])throw new ReferenceError("this topic does not exist");if(!this.topics[t].length)throw new ReferenceError("no listeners registered for this topic");for(var e=0,r=t.length;r>e;e++)this.topics[t[e]]||s.push(t[e]),this.topics[t[e]]&&this.topics[t[e]].length&&this.topics[t[e]].forEach(function(t){t(i||{})});s.length&&console.warn("Topics were not published: ",s)},broadcast:function(t){var i=[];for(var o in this.topics)this.topics.hasOwnProperty(o)&&i.push(o);for(var s=0,e=i.length;e>s;s++)this.topics[i[s]].forEach(function(i){i(t||{})})}};return o});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhcGVyYm95LmpzIl0sIm5hbWVzIjpbIm5hbWUiLCJnbG9iYWwiLCJkZWZpbml0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsInRoaXMiLCJwYXBlcmJveSIsInRvcGljcyIsInN1YnNjcmliZSIsInRvcGljIiwibGlzdGVuZXIiLCJwdXNoIiwidW5zdWJzY3JpYmUiLCJsZW5ndGgiLCJ0b3BpY0xpc3RlbmVycyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJzcGxpY2UiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJwdWJsaXNoIiwiZGF0YSIsInRvcGljVHlwZSIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsIlR5cGVFcnJvciIsIm5vVG9waWMiLCJSZWZlcmVuY2VFcnJvciIsImkiLCJsZW4iLCJjb25zb2xlIiwid2FybiIsImJyb2FkY2FzdCIsInRvcGljQ29sbGVjdGlvbiIsImhhc093blByb3BlcnR5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUNBLG1CQUFBQyxTQUFBQSxPQUFBQyxRQUNBRCxPQUFBQyxRQUFBRixFQUFBRixFQUFBQyxHQUVBQSxFQUFBRCxHQUFBRSxFQUFBRixFQUFBQyxJQUVBLFdBQUFJLEtBQUEsU0FBQUwsRUFBQUMsR0FDQSxZQUVBLElBQUFLLElBRUFDLFVBRUFDLFVBQUEsU0FBQUMsRUFBQUMsR0FFQUwsS0FBQUUsT0FBQUUsS0FDQUosS0FBQUUsT0FBQUUsT0FJQUosS0FBQUUsT0FBQUUsR0FBQUUsS0FBQUQsSUFHQUUsWUFBQSxTQUFBSCxFQUFBQyxHQUNBLEdBQUFMLEtBQUFFLE9BQUFFLElBQUFKLEtBQUFFLE9BQUFFLEdBQUFJLE9BQUEsRUFBQSxDQUNBLEdBQUFDLEdBQUFULEtBQUFFLE9BQUFFLEVBQ0FKLE1BQUFFLE9BQUFFLEdBQUFNLFFBQUEsU0FBQUMsRUFBQUMsR0FDQSxNQUFBRCxJQUFBTixNQUNBSSxHQUFBSSxPQUFBRCxFQUFBLEdBREEsV0FTQUUsT0FBQSxTQUFBVixHQUNBSixLQUFBRSxPQUFBRSxVQUNBSixNQUFBRSxPQUFBRSxJQUtBVyxVQUFBLFdBQ0FmLEtBQUFFLFdBR0FjLFFBQUEsU0FBQVosRUFBQWEsR0FDQSxHQUFBQyxHQUFBQyxPQUFBQyxVQUFBQyxTQUFBQyxLQUFBbEIsRUFDQSxJQUFBLG1CQUFBYyxFQThCQSxLQUFBLElBQUFLLFdBQUEsc0RBQUFMLEVBN0JBLElBQUFNLEtBRUEsS0FBQXhCLEtBQUFFLE9BQUFFLEdBQ0EsS0FBQSxJQUFBcUIsZ0JBQUEsNEJBSUEsS0FBQXpCLEtBQUFFLE9BQUFFLEdBQUFJLE9BQ0EsS0FBQSxJQUFBaUIsZ0JBQUEseUNBSUEsS0FBQSxHQUFBQyxHQUFBLEVBQUFDLEVBQUF2QixFQUFBSSxPQUFBbUIsRUFBQUQsRUFBQUEsSUFDQTFCLEtBQUFFLE9BQUFFLEVBQUFzQixLQUNBRixFQUFBbEIsS0FBQUYsRUFBQXNCLElBR0ExQixLQUFBRSxPQUFBRSxFQUFBc0IsS0FBQTFCLEtBQUFFLE9BQUFFLEVBQUFzQixJQUFBbEIsUUFFQVIsS0FBQUUsT0FBQUUsRUFBQXNCLElBQUFoQixRQUFBLFNBQUFMLEdBQ0FBLEVBQUFZLFFBS0FPLEdBQUFoQixRQUNBb0IsUUFBQUMsS0FBQSw4QkFBQUwsSUFRQU0sVUFBQSxTQUFBYixHQUNBLEdBQUFjLEtBQ0EsS0FBQSxHQUFBM0IsS0FBQUosTUFBQUUsT0FDQUYsS0FBQUUsT0FBQThCLGVBQUE1QixJQUNBMkIsRUFBQXpCLEtBQUFGLEVBSUEsS0FBQSxHQUFBc0IsR0FBQSxFQUFBQyxFQUFBSSxFQUFBdkIsT0FBQW1CLEVBQUFELEVBQUFBLElBQ0ExQixLQUFBRSxPQUFBNkIsRUFBQUwsSUFBQWhCLFFBQUEsU0FBQUwsR0FDQUEsRUFBQVksVUFNQSxPQUFBaEIiLCJmaWxlIjoicGFwZXJib3kuanMiLCJzb3VyY2VzQ29udGVudCI6WyI7KGZ1bmN0aW9uKG5hbWUsIGdsb2JhbCwgZGVmaW5pdGlvbikge1xuICAgIGlmKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbihuYW1lLCBnbG9iYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbFtuYW1lXSA9IGRlZmluaXRpb24obmFtZSwgZ2xvYmFsKTtcbiAgICB9XG59KSgncGFwZXJib3knLCB0aGlzLCBmdW5jdGlvbihuYW1lLCBnbG9iYWwpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgcGFwZXJib3kgPSB7XG5cbiAgICAgICAgdG9waWNzOiB7fSwgICAgICAgIFxuXG4gICAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKHRvcGljLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHRvcGljIGV4aXN0cywgaWYgbm90IGNyZWF0ZSBvbmVcbiAgICAgICAgICAgIGlmKCF0aGlzLnRvcGljc1t0b3BpY10pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvcGljc1t0b3BpY10gPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHRoZSBsaXN0ZW5lclxuICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNdLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKHRvcGljLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYodGhpcy50b3BpY3NbdG9waWNdICYmIHRoaXMudG9waWNzW3RvcGljXS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvcGljTGlzdGVuZXJzID0gdGhpcy50b3BpY3NbdG9waWNdO1xuICAgICAgICAgICAgICAgIHRoaXMudG9waWNzW3RvcGljXS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGl0ZW0gPT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgdG9waWNMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUodG9waWMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMudG9waWNzW3RvcGljXSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRvcGljc1t0b3BpY107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlQWxsOiBmdW5jdGlvbiByZW1vdmVBbGwoKSB7XG4gICAgICAgICAgICB0aGlzLnRvcGljcyA9IHt9O1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgcHVibGlzaDogZnVuY3Rpb24gcHVibGlzaCh0b3BpYywgZGF0YSkgeyBcbiAgICAgICAgICAgIHZhciB0b3BpY1R5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodG9waWMpO1xuICAgICAgICAgICAgaWYodG9waWNUeXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vVG9waWMgPSBbXTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB0b3BpYyBleGlzdHMgb3IgaGFzIGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRvcGljc1t0b3BpY10pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCd0aGlzIHRvcGljIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZighdGhpcy50b3BpY3NbdG9waWNdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ25vIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciB0aGlzIHRvcGljJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsZW4gPSB0b3BpYy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy50b3BpY3NbdG9waWNbaV1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub1RvcGljLnB1c2godG9waWNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50b3BpY3NbdG9waWNbaV1dICYmIHRoaXMudG9waWNzW3RvcGljW2ldXS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdGlmeSBhbGwgdGhlIGxpc3RlbmVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b3BpY3NbdG9waWNbaV1dLmZvckVhY2goZnVuY3Rpb24obGlzdGVuZXIpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKGRhdGEgfHwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZihub1RvcGljLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RvcGljcyB3ZXJlIG5vdCBwdWJsaXNoZWQ6ICcsIG5vVG9waWMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gQXJyYXkgaW5zdGVhZCBnb3QgJywgdG9waWNUeXBlKTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJyb2FkY2FzdDogZnVuY3Rpb24gYnJvYWRjYXN0KGRhdGEpIHtcbiAgICAgICAgICAgIHZhciB0b3BpY0NvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgIGZvcih2YXIgdG9waWMgaW4gdGhpcy50b3BpY3MpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnRvcGljcy5oYXNPd25Qcm9wZXJ0eSh0b3BpYykpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9waWNDb2xsZWN0aW9uLnB1c2godG9waWMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGxlbiA9IHRvcGljQ29sbGVjdGlvbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9waWNzW3RvcGljQ29sbGVjdGlvbltpXV0uZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcil7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKGRhdGEgfHwge30pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBwYXBlcmJveTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9